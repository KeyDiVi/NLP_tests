"""
Пайплайн для предварительной обработки текстов
"""
from Preprocessing_Pipeline import RTPPipeline
from nltk.stem import WordNetLemmatizer
from nltk.stem.porter import PorterStemmer
from sklearn.feature_extraction.text import CountVectorizer, TfidfVectorizer
from nltk.corpus.reader.tagged import SpaceTokenizer

PPP = RTPPipeline()
data = open("Text.txt", 'r').read()

PPP.preprocess(data, tokenizer=SpaceTokenizer(), stemmer=PorterStemmer(), add_pos_tags=True,
               lemmatizer=WordNetLemmatizer(), vectorizer=CountVectorizer)
"""
Prints out:

Raw Text:
 <ul><li>Users looking at a web page tend to scan quickly to find relevant content, often just reading the headings, to begin with. (We usually <a href="https://www.nngroup.com/articles/how-long-do-users-stay-on-web-pages/" class="external" rel=" noopener">spend a very short time on a web page</a>.) If they can't see anything useful within a few seconds, they'll likely get frustrated and go somewhere else.</li><li>Search engines indexing your page consider the contents of headings as important keywords for influencing the page's search rankings. Without headings, your page will perform poorly in terms of <a href="/en-US/docs/Glossary/SEO">SEO</a> (Search Engine Optimization).</li><li>Severely visually impaired people often don't read web pages; they listen to them instead. This is done with software called a <a href="https://en.wikipedia.org/wiki/Screen_reader" class="external" rel=" noopener">screen reader</a>. This software provides ways to get fast access to given text content. Among the various techniques used, they provide an outline of the document by reading out the headings, allowing their users to find the information they need quickly. If headings are not available, they will be forced to listen to the whole document read out loud.</li><li>To style content with <a href="/en-US/docs/Glossary/CSS">CSS</a>, or make it do interesting things with <a href="/en-US/docs/Glossary/JavaScript">JavaScript</a>, you need to have elements wrapping the relevant content, so CSS/JavaScript can effectively target it.</li></ul>
Web Preprocessed Text:
 users looking at a web page tend to scan quickly to find relevant content, often just reading the headings, to begin with. (we usually spend a very short time on a web page.) if they can't see anything useful within a few seconds, they'll likely get frustrated and go somewhere else.search engines indexing your page consider the contents of headings as important keywords for influencing the page's search rankings. without headings, your page will perform poorly in terms of seo (search engine optimization).severely visually impaired people often don't read web pages; they listen to them instead. this is done with software called a screen reader. this software provides ways to get fast access to given text content. among the various techniques used, they provide an outline of the document by reading out the headings, allowing their users to find the information they need quickly. if headings are not available, they will be forced to listen to the whole document read out loud.to style content with css, or make it do interesting things with javascript, you need to have elements wrapping the relevant content, so css/javascript can effectively target it.
Stopwords Preprocessed Text:
 users looking web page tend scan quickly find relevant content, often reading headings, begin with. (we usually spend short time web page.) can't see anything useful within seconds, they'll likely get frustrated go somewhere else.search engines indexing page consider contents headings important keywords influencing page's search rankings. without headings, page perform poorly terms seo (search engine optimization).severely visually impaired people often read web pages; listen instead. done software called screen reader. software provides ways get fast access given text content. among various techniques used, provide outline document reading headings, allowing users find information need quickly. headings available, forced listen whole document read loud.to style content css, make interesting things javascript, need elements wrapping relevant content, css/javascript effectively target it.
Punctuation Preprocessed Text:
 users looking web page tend scan quickly find relevant content often reading headings begin with we usually spend short time web page cant see anything useful within seconds theyll likely get frustrated go somewhere elsesearch engines indexing page consider contents headings important keywords influencing pages search rankings without headings page perform poorly terms seo search engine optimizationseverely visually impaired people often read web pages listen instead done software called screen reader software provides ways get fast access given text content among various techniques used provide outline document reading headings allowing users find information need quickly headings available forced listen whole document read loudto style content css make interesting things javascript need elements wrapping relevant content cssjavascript effectively target it
Tokenizer Preprocessed Text:
 ['users', 'looking', 'web', 'page', 'tend', 'scan', 'quickly', 'find', 'relevant', 'content', 'often', 'reading', 'headings', 'begin', 'with', 'we', 'usually', 'spend', 'short', 'time', 'web', 'page', 'cant', 'see', 'anything', 'useful', 'within', 'seconds', 'theyll', 'likely', 'get', 'frustrated', 'go', 'somewhere', 'elsesearch', 'engines', 'indexing', 'page', 'consider', 'contents', 'headings', 'important', 'keywords', 'influencing', 'pages', 'search', 'rankings', 'without', 'headings', 'page', 'perform', 'poorly', 'terms', 'seo', 'search', 'engine', 'optimizationseverely', 'visually', 'impaired', 'people', 'often', 'read', 'web', 'pages', 'listen', 'instead', 'done', 'software', 'called', 'screen', 'reader', 'software', 'provides', 'ways', 'get', 'fast', 'access', 'given', 'text', 'content', 'among', 'various', 'techniques', 'used', 'provide', 'outline', 'document', 'reading', 'headings', 'allowing', 'users', 'find', 'information', 'need', 'quickly', 'headings', 'available', 'forced', 'listen', 'whole', 'document', 'read', 'loudto', 'style', 'content', 'css', 'make', 'interesting', 'things', 'javascript', 'need', 'elements', 'wrapping', 'relevant', 'content', 'cssjavascript', 'effectively', 'target', 'it']
Stemmer Preprocessed Text:
 ['user', 'look', 'web', 'page', 'tend', 'scan', 'quickli', 'find', 'relev', 'content', 'often', 'read', 'head', 'begin', 'with', 'we', 'usual', 'spend', 'short', 'time', 'web', 'page', 'cant', 'see', 'anyth', 'use', 'within', 'second', 'theyll', 'like', 'get', 'frustrat', 'go', 'somewher', 'elsesearch', 'engin', 'index', 'page', 'consid', 'content', 'head', 'import', 'keyword', 'influenc', 'page', 'search', 'rank', 'without', 'head', 'page', 'perform', 'poorli', 'term', 'seo', 'search', 'engin', 'optimizationsever', 'visual', 'impair', 'peopl', 'often', 'read', 'web', 'page', 'listen', 'instead', 'done', 'softwar', 'call', 'screen', 'reader', 'softwar', 'provid', 'way', 'get', 'fast', 'access', 'given', 'text', 'content', 'among', 'variou', 'techniqu', 'use', 'provid', 'outlin', 'document', 'read', 'head', 'allow', 'user', 'find', 'inform', 'need', 'quickli', 'head', 'avail', 'forc', 'listen', 'whole', 'document', 'read', 'loudto', 'style', 'content', 'css', 'make', 'interest', 'thing', 'javascript', 'need', 'element', 'wrap', 'relev', 'content', 'cssjavascript', 'effect', 'target', 'it']
POS Preprocessed Text:
 [('users', 'NNS'), ('looking', 'VBG'), ('web', 'JJ'), ('page', 'NN'), ('tend', 'VBP'), ('scan', 'JJ'), ('quickly', 'RB'), ('find', 'VBP'), ('relevant', 'JJ'), ('content', 'NN'), ('often', 'RB'), ('reading', 'JJ'), ('headings', 'NNS'), ('begin', 'VBP'), ('with', 'IN'), ('we', 'PRP'), ('usually', 'RB'), ('spend', 'VBP'), ('short', 'JJ'), ('time', 'NN'), ('web', 'JJ'), ('page', 'NN'), ('cant', 'NN'), ('see', 'VBP'), ('anything', 'NN'), ('useful', 'JJ'), ('within', 'IN'), ('seconds', 'NNS'), ('theyll', 'VBP'), ('likely', 'JJ'), ('get', 'NN'), ('frustrated', 'VBN'), ('go', 'VBP'), ('somewhere', 'RB'), ('elsesearch', 'RB'), ('engines', 'VBZ'), ('indexing', 'VBG'), ('page', 'NN'), ('consider', 'NN'), ('contents', 'NNS'), ('headings', 'NNS'), ('important', 'JJ'), ('keywords', 'NNS'), ('influencing', 'VBG'), ('pages', 'NNS'), ('search', 'VBP'), ('rankings', 'NNS'), ('without', 'IN'), ('headings', 'NNS'), ('page', 'NN'), ('perform', 'VBP'), ('poorly', 'RB'), ('terms', 'NNS'), ('seo', 'VBP'), ('search', 'NN'), ('engine', 'NN'), ('optimizationseverely', 'RB'), ('visually', 'RB'), ('impaired', 'JJ'), ('people', 'NNS'), ('often', 'RB'), ('read', 'VBP'), ('web', 'JJ'), ('pages', 'NNS'), ('listen', 'VBN'), ('instead', 'RB'), ('done', 'VBN'), ('software', 'NN'), ('called', 'VBN'), ('screen', 'NN'), ('reader', 'NN'), ('software', 'NN'), ('provides', 'VBZ'), ('ways', 'NNS'), ('get', 'VB'), ('fast', 'JJ'), ('access', 'NN'), ('given', 'VBN'), ('text', 'JJ'), ('content', 'NN'), ('among', 'IN'), ('various', 'JJ'), ('techniques', 'NNS'), ('used', 'VBN'), ('provide', 'VBP'), ('outline', 'JJ'), ('document', 'NN'), ('reading', 'NN'), ('headings', 'NNS'), ('allowing', 'VBG'), ('users', 'NNS'), ('find', 'VBP'), ('information', 'NN'), ('need', 'NN'), ('quickly', 'RB'), ('headings', 'VBZ'), ('available', 'JJ'), ('forced', 'VBN'), ('listen', 'JJ'), ('whole', 'JJ'), ('document', 'NN'), ('read', 'VBD'), ('loudto', 'JJ'), ('style', 'NN'), ('content', 'NN'), ('css', 'NNS'), ('make', 'VBP'), ('interesting', 'JJ'), ('things', 'NNS'), ('javascript', 'VBP'), ('need', 'JJ'), ('elements', 'NNS'), ('wrapping', 'VBG'), ('relevant', 'JJ'), ('content', 'NN'), ('cssjavascript', 'NN'), ('effectively', 'RB'), ('target', 'VB'), ('it', 'PRP')]
Lemmatizer Preprocessed Text:
 [('users', 'user', 'NNS'), ('looking', 'look', 'VBG'), ('web', 'web', 'JJ'), ('page', 'page', 'NN'), ('tend', 'tend', 'VBP'), ('scan', 'scan', 'JJ'), ('quickly', 'quickly', 'RB'), ('find', 'find', 'VBP'), ('relevant', 'relevant', 'JJ'), ('content', 'content', 'NN'), ('often', 'often', 'RB'), ('reading', 'reading', 'JJ'), ('headings', 'heading', 'NNS'), ('begin', 'begin', 'VBP'), ('with', 'with', 'IN'), ('we', 'we', 'PRP'), ('usually', 'usually', 'RB'), ('spend', 'spend', 'VBP'), ('short', 'short', 'JJ'), ('time', 'time', 'NN'), ('web', 'web', 'JJ'), ('page', 'page', 'NN'), ('cant', 'cant', 'NN'), ('see', 'see', 'VBP'), ('anything', 'anything', 'NN'), ('useful', 'useful', 'JJ'), ('within', 'within', 'IN'), ('seconds', 'second', 'NNS'), ('theyll', 'theyll', 'VBP'), ('likely', 'likely', 'JJ'), ('get', 'get', 'NN'), ('frustrated', 'frustrate', 'VBN'), ('go', 'go', 'VBP'), ('somewhere', 'somewhere', 'RB'), ('elsesearch', 'elsesearch', 'RB'), ('engines', 'engines', 'VBZ'), ('indexing', 'index', 'VBG'), ('page', 'page', 'NN'), ('consider', 'consider', 'NN'), ('contents', 'content', 'NNS'), ('headings', 'heading', 'NNS'), ('important', 'important', 'JJ'), ('keywords', 'keywords', 'NNS'), ('influencing', 'influence', 'VBG'), ('pages', 'page', 'NNS'), ('search', 'search', 'VBP'), ('rankings', 'ranking', 'NNS'), ('without', 'without', 'IN'), ('headings', 'heading', 'NNS'), ('page', 'page', 'NN'), ('perform', 'perform', 'VBP'), ('poorly', 'poorly', 'RB'), ('terms', 'term', 'NNS'), ('seo', 'seo', 'VBP'), ('search', 'search', 'NN'), ('engine', 'engine', 'NN'), ('optimizationseverely', 'optimizationseverely', 'RB'), ('visually', 'visually', 'RB'), ('impaired', 'impaired', 'JJ'), ('people', 'people', 'NNS'), ('often', 'often', 'RB'), ('read', 'read', 'VBP'), ('web', 'web', 'JJ'), ('pages', 'page', 'NNS'), ('listen', 'listen', 'VBN'), ('instead', 'instead', 'RB'), ('done', 'do', 'VBN'), ('software', 'software', 'NN'), ('called', 'call', 'VBN'), ('screen', 'screen', 'NN'), ('reader', 'reader', 'NN'), ('software', 'software', 'NN'), ('provides', 'provide', 'VBZ'), ('ways', 'way', 'NNS'), ('get', 'get', 'VB'), ('fast', 'fast', 'JJ'), ('access', 'access', 'NN'), ('given', 'give', 'VBN'), ('text', 'text', 'JJ'), ('content', 'content', 'NN'), ('among', 'among', 'IN'), ('various', 'various', 'JJ'), ('techniques', 'technique', 'NNS'), ('used', 'use', 'VBN'), ('provide', 'provide', 'VBP'), ('outline', 'outline', 'JJ'), ('document', 'document', 'NN'), ('reading', 'reading', 'NN'), ('headings', 'heading', 'NNS'), ('allowing', 'allow', 'VBG'), ('users', 'user', 'NNS'), ('find', 'find', 'VBP'), ('information', 'information', 'NN'), ('need', 'need', 'NN'), ('quickly', 'quickly', 'RB'), ('headings', 'head', 'VBZ'), ('available', 'available', 'JJ'), ('forced', 'force', 'VBN'), ('listen', 'listen', 'JJ'), ('whole', 'whole', 'JJ'), ('document', 'document', 'NN'), ('read', 'read', 'VBD'), ('loudto', 'loudto', 'JJ'), ('style', 'style', 'NN'), ('content', 'content', 'NN'), ('css', 'cs', 'NNS'), ('make', 'make', 'VBP'), ('interesting', 'interesting', 'JJ'), ('things', 'thing', 'NNS'), ('javascript', 'javascript', 'VBP'), ('need', 'need', 'JJ'), ('elements', 'element', 'NNS'), ('wrapping', 'wrap', 'VBG'), ('relevant', 'relevant', 'JJ'), ('content', 'content', 'NN'), ('cssjavascript', 'cssjavascript', 'NN'), ('effectively', 'effectively', 'RB'), ('target', 'target', 'VB'), ('it', 'it', 'PRP')]
Vectorizer Preprocessed Text:
    0   1   2   3   4   5   6   7   8   ...  84  85  86  87  88  89  90  91  92
0   0   0   0   0   0   1   0   0   0  ...   0   0   0   1   0   1   0   0   0
1   0   0   0   0   0   0   0   0   0  ...   0   0   1   1   0   0   0   0   0
2   0   0   0   1   0   0   0   1   1  ...   0   0   0   0   0   0   1   0   0
3   0   0   0   0   0   0   0   0   0  ...   1   0   0   1   0   0   0   1   0
4   0   0   0   0   0   0   1   0   0  ...   0   0   0   0   0   0   0   0   0
5   1   0   0   0   0   0   0   0   0  ...   0   1   0   0   0   0   0   0   0
6   0   1   1   0   0   0   0   0   0  ...   0   0   0   0   0   0   0   0   0
7   0   0   0   0   1   0   0   0   0  ...   0   0   0   0   1   0   0   0   1

[8 rows x 93 columns]

"""

PPP.preprocess(data, remove_punctuation=False, tokenizer=SpaceTokenizer(), vectorizer=TfidfVectorizer)
"""
Prints Out:

Raw Text:
 <ul><li>Users looking at a web page tend to scan quickly to find relevant content, often just reading the headings, to begin with. (We usually <a href="https://www.nngroup.com/articles/how-long-do-users-stay-on-web-pages/" class="external" rel=" noopener">spend a very short time on a web page</a>.) If they can't see anything useful within a few seconds, they'll likely get frustrated and go somewhere else.</li><li>Search engines indexing your page consider the contents of headings as important keywords for influencing the page's search rankings. Without headings, your page will perform poorly in terms of <a href="/en-US/docs/Glossary/SEO">SEO</a> (Search Engine Optimization).</li><li>Severely visually impaired people often don't read web pages; they listen to them instead. This is done with software called a <a href="https://en.wikipedia.org/wiki/Screen_reader" class="external" rel=" noopener">screen reader</a>. This software provides ways to get fast access to given text content. Among the various techniques used, they provide an outline of the document by reading out the headings, allowing their users to find the information they need quickly. If headings are not available, they will be forced to listen to the whole document read out loud.</li><li>To style content with <a href="/en-US/docs/Glossary/CSS">CSS</a>, or make it do interesting things with <a href="/en-US/docs/Glossary/JavaScript">JavaScript</a>, you need to have elements wrapping the relevant content, so CSS/JavaScript can effectively target it.</li></ul>
Web Preprocessed Text:
 users looking at a web page tend to scan quickly to find relevant content, often just reading the headings, to begin with. (we usually spend a very short time on a web page.) if they can't see anything useful within a few seconds, they'll likely get frustrated and go somewhere else.search engines indexing your page consider the contents of headings as important keywords for influencing the page's search rankings. without headings, your page will perform poorly in terms of seo (search engine optimization).severely visually impaired people often don't read web pages; they listen to them instead. this is done with software called a screen reader. this software provides ways to get fast access to given text content. among the various techniques used, they provide an outline of the document by reading out the headings, allowing their users to find the information they need quickly. if headings are not available, they will be forced to listen to the whole document read out loud.to style content with css, or make it do interesting things with javascript, you need to have elements wrapping the relevant content, so css/javascript can effectively target it.
Stopwords Preprocessed Text:
 users looking web page tend scan quickly find relevant content, often reading headings, begin with. (we usually spend short time web page.) can't see anything useful within seconds, they'll likely get frustrated go somewhere else.search engines indexing page consider contents headings important keywords influencing page's search rankings. without headings, page perform poorly terms seo (search engine optimization).severely visually impaired people often read web pages; listen instead. done software called screen reader. software provides ways get fast access given text content. among various techniques used, provide outline document reading headings, allowing users find information need quickly. headings available, forced listen whole document read loud.to style content css, make interesting things javascript, need elements wrapping relevant content, css/javascript effectively target it.
Tokenizer Preprocessed Text:
 ['users', 'looking', 'web', 'page', 'tend', 'scan', 'quickly', 'find', 'relevant', 'content,', 'often', 'reading', 'headings,', 'begin', 'with.', '(we', 'usually', 'spend', 'short', 'time', 'web', 'page.)', "can't", 'see', 'anything', 'useful', 'within', 'seconds,', "they'll", 'likely', 'get', 'frustrated', 'go', 'somewhere', 'else.search', 'engines', 'indexing', 'page', 'consider', 'contents', 'headings', 'important', 'keywords', 'influencing', "page's", 'search', 'rankings.', 'without', 'headings,', 'page', 'perform', 'poorly', 'terms', 'seo', '(search', 'engine', 'optimization).severely', 'visually', 'impaired', 'people', 'often', 'read', 'web', 'pages;', 'listen', 'instead.', 'done', 'software', 'called', 'screen', 'reader.', 'software', 'provides', 'ways', 'get', 'fast', 'access', 'given', 'text', 'content.', 'among', 'various', 'techniques', 'used,', 'provide', 'outline', 'document', 'reading', 'headings,', 'allowing', 'users', 'find', 'information', 'need', 'quickly.', 'headings', 'available,', 'forced', 'listen', 'whole', 'document', 'read', 'loud.to', 'style', 'content', 'css,', 'make', 'interesting', 'things', 'javascript,', 'need', 'elements', 'wrapping', 'relevant', 'content,', 'css/javascript', 'effectively', 'target', 'it.']
Vectorizer Preprocessed Text:
          0        1         2   ...        97        98        99
0  0.000000  0.00000  0.000000  ...  0.000000  0.000000  0.000000
1  0.000000  0.39154  0.000000  ...  0.000000  0.000000  0.000000
2  0.000000  0.00000  0.000000  ...  0.204432  0.000000  0.000000
3  0.244879  0.00000  0.000000  ...  0.000000  0.244879  0.000000
4  0.000000  0.00000  0.000000  ...  0.000000  0.000000  0.000000
5  0.000000  0.00000  0.344935  ...  0.000000  0.000000  0.000000
6  0.000000  0.00000  0.000000  ...  0.000000  0.000000  0.000000
7  0.000000  0.00000  0.000000  ...  0.000000  0.000000  0.213606

[8 rows x 100 columns]

"""

PPP.preprocess(data)
"""
Prints Out:

Raw Text:
 <ul><li>Users looking at a web page tend to scan quickly to find relevant content, often just reading the headings, to begin with. (We usually <a href="https://www.nngroup.com/articles/how-long-do-users-stay-on-web-pages/" class="external" rel=" noopener">spend a very short time on a web page</a>.) If they can't see anything useful within a few seconds, they'll likely get frustrated and go somewhere else.</li><li>Search engines indexing your page consider the contents of headings as important keywords for influencing the page's search rankings. Without headings, your page will perform poorly in terms of <a href="/en-US/docs/Glossary/SEO">SEO</a> (Search Engine Optimization).</li><li>Severely visually impaired people often don't read web pages; they listen to them instead. This is done with software called a <a href="https://en.wikipedia.org/wiki/Screen_reader" class="external" rel=" noopener">screen reader</a>. This software provides ways to get fast access to given text content. Among the various techniques used, they provide an outline of the document by reading out the headings, allowing their users to find the information they need quickly. If headings are not available, they will be forced to listen to the whole document read out loud.</li><li>To style content with <a href="/en-US/docs/Glossary/CSS">CSS</a>, or make it do interesting things with <a href="/en-US/docs/Glossary/JavaScript">JavaScript</a>, you need to have elements wrapping the relevant content, so CSS/JavaScript can effectively target it.</li></ul>
Web Preprocessed Text:
 users looking at a web page tend to scan quickly to find relevant content, often just reading the headings, to begin with. (we usually spend a very short time on a web page.) if they can't see anything useful within a few seconds, they'll likely get frustrated and go somewhere else.search engines indexing your page consider the contents of headings as important keywords for influencing the page's search rankings. without headings, your page will perform poorly in terms of seo (search engine optimization).severely visually impaired people often don't read web pages; they listen to them instead. this is done with software called a screen reader. this software provides ways to get fast access to given text content. among the various techniques used, they provide an outline of the document by reading out the headings, allowing their users to find the information they need quickly. if headings are not available, they will be forced to listen to the whole document read out loud.to style content with css, or make it do interesting things with javascript, you need to have elements wrapping the relevant content, so css/javascript can effectively target it.
Stopwords Preprocessed Text:
 users looking web page tend scan quickly find relevant content, often reading headings, begin with. (we usually spend short time web page.) can't see anything useful within seconds, they'll likely get frustrated go somewhere else.search engines indexing page consider contents headings important keywords influencing page's search rankings. without headings, page perform poorly terms seo (search engine optimization).severely visually impaired people often read web pages; listen instead. done software called screen reader. software provides ways get fast access given text content. among various techniques used, provide outline document reading headings, allowing users find information need quickly. headings available, forced listen whole document read loud.to style content css, make interesting things javascript, need elements wrapping relevant content, css/javascript effectively target it.
Punctuation Preprocessed Text:
 users looking web page tend scan quickly find relevant content often reading headings begin with we usually spend short time web page cant see anything useful within seconds theyll likely get frustrated go somewhere elsesearch engines indexing page consider contents headings important keywords influencing pages search rankings without headings page perform poorly terms seo search engine optimizationseverely visually impaired people often read web pages listen instead done software called screen reader software provides ways get fast access given text content among various techniques used provide outline document reading headings allowing users find information need quickly headings available forced listen whole document read loudto style content css make interesting things javascript need elements wrapping relevant content cssjavascript effectively target it

"""
